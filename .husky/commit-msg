#!/usr/bin/env sh

msgFile=$1
msg=$(cat "$msgFile")

# Regex: enforce Conventional Commits style
if ! echo "$msg" | grep -qE '^(feat|fix|chore|docs|refactor|test|perf)(\(.+\))?: .+'; then
  echo "‚ùå Invalid commit message."
  echo "   Must follow Conventional Commits, e.g.:"
  echo "   feat: add new login feature"
  echo "   fix(auth): handle expired JWT properly"
  exit 1
fi
